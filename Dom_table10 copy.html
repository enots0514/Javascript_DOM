<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dom_table10</title>
</head>
<body>
    <section id="section10">
        <h1>Ex10-클릭한 컬럼을 기준으로 레코드 정렬하기 #2</h1>  
        <template>
            <tr>
                    <td></td>
                    <td></td>
                    <td><a href=""></a></td>
                    <td></td>
                    <td></td>
            </tr>
        </template>
        <table border="1" class="table-list">
            <thead>
                <tr>
                    <td class="no">No</td>
                    <td class="title">Title</td>
                    <td class="link">Link</td>
                    <td class="subject">Subject</td>
                    <td class="level">Level</td>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>                        
                    <td>1</td>
                    <td><a href="1">자바스크립트란..</a></td>
                    <td>2019-02-03</td>
                    <td>newlec</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><a href="2">유투브에 끌려다니지 않으려고 했는데....ㅜㅜ..</a></td>
                    <td>2019-02-02</td>
                    <td>newlec</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><a href="3">기본기가 튼튼해야....</a></td>
                    <td>2019-02-01</td>
                    <td>newlec</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><a href="4">근데 조회수가 ㅜㅜ..</a></td>
                    <td>2019-01-25</td>
                    <td>newlec</td>
                    <td>0</td>
                </tr> -->
            </tbody>
        </table>
    </section>
    <hr />     

<script>
        //Ex10-클릭한 컬럼을 기준으로 레코드 정렬하기 #1

const notices = [
    {"No":114, "Title":"비주얼 스튜디오 코드 설치", "Link":"https://pafa.tistory.com/114?category=476827", "Subject":"자바스크립트", "Level":"중급"},
    {"No":105, "Title":"함수 기본 원리", "Link":"https://pafa.tistory.com/105?category=476827", "Subject":"자바스크립트", "Level":"초급"},
    {"No":107, "Title":"자바스크립트 계산기", "Link":"https://pafa.tistory.com/107?category=476827", "Subject":"자바스크립트", "Level":"중급"},
    {"No":108, "Title":"DOM 제어대상 찾기", "Link":"https://pafa.tistory.com/108?category=476827", "Subject":"자바스크립트", "Level":"초급"},
    {"No":123, "Title":"자바스크립트 변수 let...", "Link":"https://pafa.tistory.com/123?category=476828", "Subject":"자바스크립트", "Level":"상급"}
];


const section = document.querySelector("#section10");

const tableList =section.querySelector(".table-list");
const titldTd = section.querySelector(".title");
const tbodyNode = tableList.querySelector("tbody");

const bindData = function(){
    const template = section.querySelector("template");

    for(let i=0; i<notices.length; i++){
        // var cloneNode = document.importNode(template.content, true);
        const cloneNode = template.content.cloneNode(true);
        const tds = cloneNode.querySelectorAll("td");
        tds[0].textContent = notices[i].No;            
        tds[1].textContent = notices[i].Title;
        const aNode = tds[2].children[0];
        aNode.href=notices[i].Link;
        aNode.textContent = "바로가기";
        tds[3].textContent = notices[i].Subject;
        tds[4].textContent = notices[i].Level;

        // tbodyNode.appendChild(cloneNode);
        tbodyNode.append(cloneNode);
     }

     let trNode = tbodyNode.querySelectorAll("tr");
     trNode[0].style.backgroundColor="blue"
};

 bindData();

 let titleSorted = false;

titldTd.onclick = function(){
    
    tbodyNode.innerHTML = "";

    
    if(!titleSorted){
        notices.sort(function(x,y){     
            titleSorted = true;
                if(x.title < y.title){
                    return -1;
                    } else if(x.title > y.title ){
                        return 1;
                    } else {
                        return 0;
                    }

                });
              
       }else{
           notices.reverse(); 
       }
         bindData();       
    
    };



    </script>


</body>
</html>