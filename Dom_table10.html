<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dom_table10</title>
</head>
<body>
    <section id="section10">
        <h1>Ex10-클릭한 컬럼을 기준으로 레코드 정렬하기 #1</h1>  
        <template>
            <tr>
                     <td></td>
                    <td><a href=""></a></td>
                    <td></td>
                    <td></td>
                    <td></td>
            </tr>
        </template>
        <table border="1" class="notice-list">
            <thead>
                <tr>
                    <td class="id">번호</td>
                    <td class="title">제목</td>
                    <td class="reg-date">작성일</td>
                    <td class="writer-id">작성자</td>
                    <td class="hit">조회수</td>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>                        
                    <td>1</td>
                    <td><a href="1">자바스크립트란..</a></td>
                    <td>2019-02-03</td>
                    <td>newlec</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><a href="2">유투브에 끌려다니지 않으려고 했는데....ㅜㅜ..</a></td>
                    <td>2019-02-02</td>
                    <td>newlec</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><a href="3">기본기가 튼튼해야....</a></td>
                    <td>2019-02-01</td>
                    <td>newlec</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><a href="4">근데 조회수가 ㅜㅜ..</a></td>
                    <td>2019-01-25</td>
                    <td>newlec</td>
                    <td>0</td>
                </tr> -->
            </tbody>
        </table>
    </section>
    <hr />     


<script>
        //Ex10-클릭한 컬럼을 기준으로 레코드 정렬하기 #1


var notices = [
    {"id":1, "title":"유투브에 끌려다니지 않으려고 했는데....ㅜㅜ..", "regDate":"2019-02-05", "writerId":"newlec", "hit":2},
    {"id":2, "title":"자바스크립트란..", "regDate":"2019-02-02", "writerId":"newlec", "hit":0},
    {"id":3, "title":"기본기가 튼튼해야....", "regDate":"2019-02-01", "writerId":"newlec", "hit":1},
    {"id":4, "title":"근데 조회수가 ㅜㅜ..", "regDate":"2019-02-25", "writerId":"newlec", "hit":0}
];

var section = document.querySelector("#section10");

var noticeList =section.querySelector(".notice-list");
var titldTd = section.querySelector(".title");
var tbodyNode = noticeList.querySelector("tbody");

var bindData = function(){
    var template = section.querySelector("template");

    for(var i=0; i<notices.length; i++){
        // var cloneNode = document.importNode(template.content, true);
        var cloneNode = template.content.cloneNode(true);
        var tds = cloneNode.querySelectorAll("td");
        tds[0].textContent = notices[i].id;            

        var aNode = tds[1].children[0];
        aNode.href=notices[i].id;
        aNode.textContent = notices[i].title;

        tds[2].textContent = notices[i].regDate;
        tds[3].textContent = notices[i].writerId;
        tds[4].textContent = notices[i].hit;

        // tbodyNode.appendChild(cloneNode);
        tbodyNode.append(cloneNode);
    }
};

 bindData();

 var titleSorted = false;

titldTd.onclick = function(){
    
    tbodyNode.innerHTML = "";

    
    if(!titleSorted){
        notices.sort(function(x,y){     
            titleSorted = true;
                if(x.title < y.title){
                    return -1;
                    } else if(x.title > y.title ){
                        return 1;
                    } else {
                        return 0;
                    }

                });
              
       }else{
           notices.reverse(); 
       }
         bindData();       
    
    };



    </script>


</body>
</html>